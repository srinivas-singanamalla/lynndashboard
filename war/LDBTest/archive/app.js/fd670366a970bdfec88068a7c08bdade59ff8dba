/*fd670366a970bdfec88068a7c08bdade59ff8dba*/Ext.define("LDBTest.view.PseudoOrgChart",{extend:"Ext.draw.Component",xtype:"porgchart",mixins:{theme:"Ext.chart.theme.Theme"},config:{autoSize:true,theme:"Energy",cls:"chartpanel",title:'Net Production KPI <span style ="color:red">(KNOTT-TUBB 42-K)</span>',gradients:[{id:"v-1",angle:0,stops:{0:{color:"rgb(212, 40, 40)"},100:{color:"rgb(117, 14, 14)"}}},{id:"v-2",angle:0,stops:{0:{color:"rgb(180, 216, 42)"},100:{color:"rgb(94, 114, 13)"}}},{id:"v-3",angle:0,stops:{0:{color:"rgb(43, 221, 115)"},100:{color:"rgb(14, 117, 56)"}}},{id:"v-4",angle:0,stops:{0:{color:"rgb(45, 117, 226)"},100:{color:"rgb(14, 56, 117)"}}},{id:"v-5",angle:0,stops:{0:{color:"rgb(187, 45, 222)"},100:{color:"rgb(85, 10, 103)"}}}]},constructor:function(a){this.callParent([a])},applyStyles:function(b){var a=this;a.mixins.theme.applyStyles.call(a,b);a.colorArrayStyle=[];if(a.style&&a.style.colors){colors=a.style.colors;colorArrayStyle=a.colorArrayStyle;for(i=0,l=colors.length;i<l;++i){color=colors[i];if(Ext.isObject(color)){for(p in a.surfaces){a.surfaces[p].addGradient(color)}colorArrayStyle.push("url(#"+color.id+")")}else{colorArrayStyle.push(color)}}}},initialize:function(){var d=this;LDBTest.view.PseudoOrgChart.superclass.initialize.apply(this,arguments);var c=function(e,g,f){return"M"+e+" "+g+"L"+(e-0.5*f)+" "+(g+f)+" L"+(e+0.5*f)+" "+(g+f)+" Z"};var b=function(r){var v=r.x,u=r.y,z=r.w,s=r.h;var k=r.topColor,t=r.bottomColor;var A=r.topText,j=r.centerText,o=r.bottomText;var g=r.topTextFont||"",f=r.centerTextFont||"",q=r.bottomTextFont||"",e=r.forecastFont||"";var n=r.forecastVal;var m="textGroup";return[{type:"rect",width:z,height:s,fill:"white",stroke:"black",x:v,y:u},{type:"rect",width:z,height:0.25*s,stroke:"black",fill:k,x:v,y:u,},{type:"text",fill:"black",x:v+0.5*z,y:u+0.125*s,text:A,font:g,group:m,"text-anchor":"center"},{type:"text",fill:"black",x:v+0.5*z,y:u+0.5*s,text:j,font:f,group:m,"text-anchor":"center"},{type:"rect",width:z,height:0.25*s,stroke:"black",fill:"url(#gradientId)",x:v,y:u+0.75*s,},{type:"text",fill:"black",stroke:"black",x:v+0.5*z,y:u+0.833*s,text:o,font:q,group:m,"text-anchor":"center"},{type:"text",fill:n>0?"green":"red",stroke:"black",font:e,x:v+0.5*z,y:u+0.91*s,text:n,group:m,"text-anchor":"center"}]};var a=function(g,h,m,f){var e=[];var k={x:250,y:25,w:500,h:200};var j=10;e.push(b({x:k.x,y:k.y,w:k.w,h:k.h,topColor:"lightgray",bottomColor:"lightgray",topText:"Daily Average Volume",centerText:"2,253 MCFed",bottomText:"From Forecast",forecastVal:450,topTextFont:"bold 18px Arial",centerTextFont:"bold italic 18px Arial",bottomTextFont:"bold 12px Arial",forecastFont:"bold 12px Arial"}));e.push(b({x:k.x-0.25*k.w-j,y:k.y+k.h+2*j,w:0.5*k.w,h:0.75*k.h,topColor:"url(#gasGradient)",bottomColor:"white",topText:"Gas",centerText:"1,296 MCFed",bottomText:"From Forecast",forecastVal:50,topTextFont:"bold 12px Arial",centerTextFont:"bold italic 14px Arial",bottomTextFont:"bold 12px Arial",forecastFont:"bold 12px Arial"}));e.push(b({x:k.x+0.25*k.w,y:k.y+k.h+2*j,w:0.5*k.w,h:0.75*k.h,topColor:"url(#oilGradient)",bottomColor:"white",topText:"Oil",centerText:"1,286 BbLd",bottomText:"From Forecast",forecastVal:50,topTextFont:"bold 12px Arial",centerTextFont:"bold italic 14px Arial",bottomTextFont:"bold 12px Arial",forecastFont:"bold 12px Arial"}));e.push(b({x:k.x+0.75*k.w+j,y:k.y+k.h+2*j,w:0.5*k.w,h:0.75*k.h,topColor:"url(#nglGradient)",bottomColor:"white",topText:"NGL",centerText:"1,286 BbLd",bottomText:"From Forecast",forecastVal:-50,topTextFont:"bold 12px Arial",centerTextFont:"bold italic 14px Arial",bottomTextFont:"bold 12px Arial",forecastFont:"bold 12px Arial"}));return e};d.surface.add(a({},{},{},{}));d.surface.addGradient({id:"gradientId",angle:45,stops:{0:{color:"#555"},100:{color:"#ddd"}}});d.surface.addGradient({id:"gasGradient",angle:0,stops:{0:{color:"red"},100:{color:"rgb(155, 0, 0)"}}});d.surface.addGradient({id:"oilGradient",angle:0,stops:{0:{color:"rgb(0, 255, 0)"},100:{color:"rgb(0, 100, 0)"}}});d.surface.addGradient({id:"nglGradient",angle:0,stops:{0:{color:"purple"},100:{color:"rgb(255, 0, 255)"}}});d.surface.renderFrame()},constructor:function(a){var b=this;a=Ext.apply({},a);if(b.gradients){Ext.apply(a,{gradients:b.gradients})}if(b.background){Ext.apply(a,{background:b.background})}if(a.theme){b.applyStyles(a.theme)}b.callParent(arguments)},});Ext.define("LDBTest.store.ProductionLineStore",{extend:"Ext.data.JsonStore",alias:"store.ProductionLineStore",config:{id:"ProductionLineStore",idProperty:"AnalysisDate",fields:[{name:"AnalysisDate",type:"String"},{name:"Gas",type:"double"},{name:"Oil",type:"double"},{name:"NGL",type:"double"},{name:"Water",type:"double"},{name:"Forecast",type:"double"},{name:"Total",type:"double"}],proxy:{type:"ajax",url:"app/data/ProductionLine.json",reader:{type:"json"}},autoLoad:true}});Ext.define("LDBTest.view.ProductionAnalysisChart",{extend:"Ext.chart.Chart",xtype:"productionanalysischart",id:"productionanalysischart",requires:["Ext.chart.Chart","LDBTest.store.ProductionLineStore"],config:{title:'Daily Net Production Analysis <span style ="color:red">(KNOTT-TUBB 42-K)</span>',iconCls:"line",cls:"chartpanel",width:"800",height:"400",shadow:true,animate:true,interactions:[{type:"iteminfo",gesture:"tap",listeners:{show:function(b,e,a){var d=e.storeItem,c=function(f){console.log(f);return(f).toFixed(2)};a.setHtml(["<b>Units in MCFe</b>","<br></br>","<ul>","<li><b>Water: </b> "+c(d.get("Water"))+"</li>","<li><b>Oil: </b> "+c(d.get("Oil"))+"</li>","<li><b>Gas: </b> "+c(d.get("Gas"))+"</li>","<li><b>NGL: </b> "+c(d.get("NGL"))+"</li>","<li><b>Total: </b> "+c(d.get("Total"))+"</li>","<li><b>Forecast: </b> "+c(d.get("Forecast"))+"</li>","</ul>"].join(""))}}}],animate:false,store:Ext.create("LDBTest.store.ProductionLineStore",{id:"ProductionLineStore"}),axes:[{type:"Numeric",position:"left",label:{},adjustMinimumByMajorUnit:0,fields:["Water","Oil","Gas","Forecast","NGL","Total"],title:"Production Rate (MCFe)",grid:{odd:{stroke:"#777"},even:{stroke:"#555"}}}],legend:{position:Ext.os.is.Phone?"left":"left"},theme:"Energy",series:[{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:["Water"],title:["Water"]},{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:"Oil",title:["Oil"]},{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:"Gas",title:["Gas"]},{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:"Total",title:["Total"]},{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:"Forecast",title:["Forecast"]},{type:"line",highlight:false,showMarkers:false,fill:false,smooth:true,axis:"left",xField:"AnalysisDate",yField:"NGL",title:["NGL"]}],listeners:{afterrender:function(a){a.on("beforerefresh",function(){if(a.ownerCt.getActiveItem().id!==a.id){return false}},a)}}}});Ext.define("LDBTest.store.WellStore",{extend:"Ext.data.JsonStore",alias:"store.WellStore",config:{id:"WellStore",idProperty:"ProductionPointWellName",fields:[{name:"ProductionPointWellName",type:"String"},{name:"PropertyID",type:"String"}],groupField:"ProductionPointWellName",proxy:{type:"ajax",url:"app/data/Wells.json",reader:{type:"json",rootProperty:"items"}},autoLoad:true}});Ext.define("LDBTest.view.WellSearchField",{xtype:"wellsearchlist",extend:"Ext.Panel",requires:["Ext.data.Store","Ext.List","Ext.field.Search","Ext.Toolbar","LDBTest.store.WellStore"],initialize:function(){var b=this.getListConfiguration();var a=Ext.create("Ext.Panel",{xtype:"panel",width:380,height:420,left:0,top:0,layout:"fit",items:[b]});this.add(a)},constructor:function(a){this.callParent([a])},getListConfiguration:function(){return{xtype:"list",ui:"round",pinHeaders:false,itemTpl:'<div class="contact">{ProductionPointWellName} <strong>{PropertyID}</strong></div>',store:this.getStore(),grouped:true,emptyText:'<div style="margin-top: 20px; text-align: center">No Matching Items</div>',disableSelection:false,listeners:{select:function(b,a){var c=Ext.getStore("ProductionLineStore");console.log(c);c.getProxy().setExtraParams({PropertyID:1266415});c.load();Ext.getCmp("wellsearchlistId").hide()}},items:[{xtype:"toolbar",docked:"top",items:[{xtype:"spacer"},{xtype:"searchfield",placeHolder:"Search Well...",listeners:{scope:this,clearicontap:this.onSearchClearIconTap,keyup:this.onSearchKeyUp}},{xtype:"spacer"}]}]}},getStore:function(){if(!this.store){this.store=Ext.create("LDBTest.store.WellStore")}return this.store},onSearchKeyUp:function(f){var e=f.getValue(),b=this.getStore();b.clearFilter();if(e){var d=e.split(" "),a=[],c;for(c=0;c<d.length;c++){if(!d[c]){continue}a.push(new RegExp(d[c],"i"))}b.filter(function(h){var g=[];for(c=0;c<a.length;c++){var k=a[c],j=h.get("ProductionPointWellName").match(k);g.push(j)}if(a.length>1&&g.indexOf(false)!=-1){return false}else{return g[0]}})}},onSearchClearIconTap:function(){this.getStore().clearFilter()}});Ext.define("LDBTest.view.DashboardCarousel",{extend:"Ext.carousel.Carousel",xtype:"dbcarousel",requires:["LDBTest.view.PseudoOrgChart","LDBTest.view.ProductionAnalysisChart","LDBTest.view.WellSearchField"],config:{direction:"vertical",ui:"light",defaults:{},items:[{docked:"top",xtype:"titlebar",id:"titleBarId",title:'Net Production KPI <span style ="color:red">(KNOTT-TUBB 42-K)</span>'},{xtype:"toolbar",docked:"bottom",itemId:"toolbarId",items:[{flex:1,xtype:"component"},{text:"Choose Well",handler:function(a){console.log("button"+a.getText());Ext.getCmp("wellsearchlistId").showBy(a)}}]},{xtype:"porgchart"},{xtype:"productionanalysischart"},],listeners:{afterrender:function(a){console.log("afterrender");a.on("add",function(){console.log("do the switch, baby")});a.on("activeitemchange",function(){console.log("do the switch, baby")})},activeitemchange:function(a,c,d,b){Ext.getCmp("titleBarId").setTitle(c.getTitle()||"")}}},initialize:function(){}});Ext.define("LDBTest.view.Main",{extend:"Ext.tab.Panel",requires:["Ext.TitleBar","LDBTest.view.DashboardCarousel","Ext.ComponentQuery"],config:{tabBarPosition:"bottom",items:[{docked:"top",xtype:"titlebar",title:"Well Profitability Dashboard"},{title:"Well Completion",iconCls:"home",xtype:"dbcarousel",},{title:"Product Options",iconCls:"action",items:[{docked:"top",xtype:"titlebar",title:"Getting Started"},{xtype:"panel",html:"To be displayed"}]},{title:"Unit Lease",iconCls:"action",items:[{docked:"top",xtype:"titlebar",title:"Unit Lease"},{xtype:"panel",html:"To be displayed"}]},{title:"Expense Breakdown",iconCls:"action",items:[{docked:"top",xtype:"titlebar",title:"Unit Lease"},{xtype:"panel",html:"To be displayed"}]}]}});Ext.application({name:"LDBTest",requires:["Ext.MessageBox"],views:["Main"],icon:{57:"resources/icons/Icon.png",72:"resources/icons/Icon~ipad.png",114:"resources/icons/Icon@2x.png",144:"resources/icons/Icon~ipad@2x.png"},phoneStartupScreen:"resources/loading/Homescreen.jpg",tabletStartupScreen:"resources/loading/Homescreen~ipad.jpg",launch:function(){Ext.fly("appLoadingIndicator").destroy();Ext.Viewport.add(Ext.create("LDBTest.view.Main"))},onUpdated:function(){Ext.Msg.confirm("Application Update","This application has just successfully been updated to the latest version. Reload now?",function(a){if(a==="yes"){window.location.reload()}})}});